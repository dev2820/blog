{{ define "header" }}
{{ end }}
{{ define "main" }}
<script>
    readTextFile("/lunr.json", function(docs){
        let documents = JSON.parse(docs);
        var idx = lunr(function () {
            this.ref('title')
            this.field('content')
            
            documents.forEach(function (doc) {
                this.add(doc)
            }, this)
        })

        const result = idx.search("hugo")
        console.log(result);
    });
</script>
<main id="search">
    {{ with .Site.GetPage "search"}}
        <h1>{{ .Title }}</h1>
        {{ .Content }}
    {{ end }}
    <button onclick="toggleSearch(false)">
        <i class="fa fa-times fa-3x"></i>
    </button>
    <input id="search-input" type="text" placeholder="search..." name="search">
</main>
{{ end }}