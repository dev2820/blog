---
title: "휴고의 컨텐츠 관리"
date: 2020-09-26T20:39:14+09:00
categories: ["what_is_hugo"]
tags: ["hugo","휴고","휴고 시작하기","hugo management","컨텐츠 관리"]
cover: ""
subcategories: ["hugo"]
draft: false
---

이번 글에서는 휴고의 컨텐츠 관리에 관해서 알아보겠습니다.  

https://gohugo.io/content-management/

## Content Organization
휴고의 컨텐츠 조직화에 관한 페이지입니다.

https://gohugo.io/content-management/organization/

### page Bundles

휴고는 페이지별로 다른 설정, 다른 front matter 값을 줄 수 있고 페이지별로 컨텐츠 파일과 이미지폴더를 가질 수 있습니다. 

```
/content
├ 1-logo.png
├ _index.md
└ blog
   ├ 1-landscape.jpg
   ├ 2-sunset.jpg
   ├ _index.md
   ├ content1.md
   ├ contnet2.md
   ├ hugo-is-cool
    |  ├ cats-info.md
    |  ├ images 
    |      ├ funnier-cat.png
    |      ├ funny-cat.gif
    |  └ index.md        
    └ posts
        ├ post1.md
        └ post2.md     
```  
단 홈페이지는 여러 페이지를 가질 수 없습니다.(다른 파일들은 가능합니다.) 

### Organization of Content Source
휴고에서 `content`폴더의 각 폴더들은 의미를 가집니다. (`content/<DIRECTORIES>`) 이 폴더들은 내부에 속한 컨텐츠들에 어떤 layout이 사용될지 사용됩니다. 이는 section에 대해 설명할 때 더 자세히 다루겠습니다. 

추가적인 설정이 따로 없으면 컨텐츠의 내용들은 다음과 같은 경로에 매치됩니다.
```
.
└── content
    └── about
    |   └── index.md  // <- https://example.com/about/
    ├── posts
    |   ├── firstpost.md   // <- https://example.com/posts/firstpost/
    |   ├── happy
    |   |   └── ness.md  // <- https://example.com/posts/happy/ness/
    |   └── secondpost.md  // <- https://example.com/posts/secondpost/
    └── quote
        ├── first.md       // <- https://example.com/quote/first/
        └── second.md      // <- https://example.com/quote/second/
```
위 예제는 `config`파일에 `baseURL = "https://example.com"`이라고 정의 된 경우 입니다. 페이지는 baseURL을 기반으로 만들어집니다. 

### Index Pages: _index.md

`_index.md`는 휴고에서 특별한 역할을 합니다. 이 문서는 여러분의 list template에서 쓸 front matter와 내용을 저장하는 문서입니다. template은 화면에 보일 layout입니다. list template은 이란 section,taxonomies 같이 무언가 나열하는 화면요소의 layout을 말합니다. 예를 들면 블로그의 '맛집' 카테고리 페이지에 들어가면 '맛집'과 관련된 글들이 주르륵 나열되잖아요? 이건 list template에 '맛집' 카테고리 정보글들을 모아 만들어진 페이지 인겁니다. 이는 템플릿을 설명하면서 더 자세히 다루겠습니다.

여러분은 홈페이지와 각 컨텐츠 section,taxonomies, 그리고 taxonomy terms마다 하나의 `_index.md` 파일을 둘 수 있습니다. 
 
다음 예시를 보시죠
빌드전
```
.         url
.       ⊢--^-⊣
.        path    slug
.       ⊢--^-⊣⊢---^---⊣
.           filepath
.       ⊢------^------⊣
content/posts/_index.md
```
위와 같이 content 폴더 아래 posts라는 폴더가 있다고 합시다. hugo는 이 posts 폴더를 하나의 섹션으로 취급하고 섹션의 index 페이지를 만듦니다. 

빌드후
```
                     url ("/posts/")
                    ⊢-^-⊣
       baseurl      section("posts")
⊢--------^---------⊣⊢-^-⊣
        permalink
⊢----------^-------------⊣
https://example.com/posts/index.html
```
따라서 여러분이 /posts/ 로 접근하게되면 posts의 섹션페이지(index.html)을 볼 수 있습니다. `content/posts/_index.md`파일은 이 섹션페이지의 메타데이터가 됩니다. `_index.md` 파일에 `title:post페이지`라고 저장하면 섹션페이지에서 title을 가져올때 'post페이지' 라는 문구를 가져오게 되는겁니다. `_index.md` 파일의 용도를 아시겠죠?

참고로 섹션페이지에서는 이 `_index.md`파일 내용을 `.Site.GetPage` function을 통해 불러올 수 있습니다.

### Single Pages in Sections

섹션의 각 컨텐츠 파일은 single page template에 따라 생성됩니다. 

포스트 섹션에 다음과 같은 컨텐츠가 있다고 합시다.
```
                   path ("posts/my-first-hugo-post.md")
.       ⊢-----------^------------⊣
.      section        slug
.       ⊢-^-⊣⊢--------^----------⊣
content/posts/my-first-hugo-post.md
```

사이트를 빌드하고 나면 다음과 같은 파일이 생성됩니다.

```
url ("/posts/my-first-hugo-post/")
                   ⊢------------^----------⊣
       baseurl     section     slug
⊢--------^--------⊣⊢-^--⊣⊢-------^---------⊣
                 permalink
⊢--------------------^---------------------⊣
https://example.com/posts/my-first-hugo-post/index.html
```

이 index.html은 single page template에 따라 만들어지고 '/posts/my-first-hugo-post/' 주소로 접근하면 읽을 수 있게됩니다.

single page template, list page template을 커스텀 하는 방법은 template 관련 글에서 다루겠습니다.

### Paths Explained
위에서 예시를 들면서 각 페이지로의 주소가 어떤 구조로 되어있는지 나왔는데 이 부분에 대한 디테일한 설명을 하겠습니다.

```
url ("/posts/my-first-hugo-post/")
                   ⊢------------^----------⊣
       baseurl     section     slug
⊢--------^--------⊣⊢-^--⊣⊢-------^---------⊣
                 permalink
⊢--------------------^---------------------⊣
https://example.com/posts/my-first-hugo-post/index.html
```
특정 컨텐츠는 baseUrl+section+slug 를 절대주소로 가지게 됩니다.
또한 section+slug를 url이라 하며 상대주소를 나타냅니다. 이 url은 front matter로 바꿀 수 있습니다.
**section**  
주소의 `section`부분은 컨텐츠가 어떤 타입인지 결정합니다. 타입에 따라 layout을 다르게 주는 등 컨텐츠별로 개성을 줄 수 있습니다. 특정 컨텐츠가 어떤 `section`에 속하는지는 `/content` 폴더 내에 컨텐츠가 어디 위치하는지에 따라 결정됩니다. 이 `section`은 front matter 값으로 덮어씌울 수 없습니다.

**slug**
슬러그는 `section` 내에서 해당 컨텐츠로 가는 주소입니다. 이 `slug`는 컨텐츠파일의 이름(`lollapalooza.md`파일이라면 lollapalooza가 slug가 됩니다.) 또는 컨텐츠에 정해둔 front matter값으로 덮어씌울 수 있습니다.

### Override Destination Paths via Front Matter

휴고는 특정 컨텐츠로의 주소를 front matter로 덮어씌울 수 있습니다. `content/posts/my-post.md` 컨텐츠가 있다면 이 컨텐츠로의 주소는 기본적으로 `example.com/posts/my-post/`가 됩니다. 

**slug**
front matter 값으로 slug를 넣어주면 해당 컨텐츠로의 slug가 덮어씌워집니다.

```
content/post/old-post.md
---
title: A new post with the filename old-post.md
slug: "new-post"
---
```

my-post.md의 front matter를 위와 같이 주게되면 우리는 사이트가 빌드되면 다음 주소에서 my-post의 글을 보게됩니다.
```
example.com/posts/new-post/
```

**section**
section은 오로지 `content`폴더 어디에 위치하는지에 따라 결정되며 front matter로 바꿀 수 없습니다.

**type**
컨텐츠의 타입을 정해 해당 컨텐츠는 다른 layout을 가지도록 설정해줄 수 있습니다.

```
content/posts/my-post.md

---
title: My Post
type: new
layout: mylayout
---
```
my-post 컨텐츠는 `layouts/new/mylayout.html` 템플릿에 따라 생성됩니다.

**url**
`section`은 바꿀 수 없지만 해당 컨텐츠로의 경로를 통째로 지정해줄 수는 있습니다.
```
content/posts/old-url.md
---
title: Old URL
url: /blog/new-url/
---
```

이제 `old-url`컨텐츠로가는 주소는 다음과 같아집니다.
```
https://example.com/blog/new-url/
```
url은 반드시 baseURL 경로로부터 시작해야합니다.(즉 `/` 로 시작해야합니다.)


## 마치며

다음글에서는 codefence에 syntax highlight 적용하는 방법에 대해 알아보겠습니다. 