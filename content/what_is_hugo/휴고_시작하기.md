+++
title= "휴고_설치하기"
date= 2020-09-25T14:56:28+09:00
categories= ["what_is_hugo"]
tags= ["hugo","휴고","휴고 시작하기","휴고설치"]
cover= ""

subcategories= ["hugo"]
draft= false
+++

이 글에서는 휴고 설치하는 법과 휴고가 생성하는 사이트의 폴더 구조에 대해 살펴볼 것입니다.

## Install Hugo 
휴고 시작하기 https://gohugo.io/getting-started/

휴고는 Go 컴파일러가 돌아가는 곳이면 어디에서든 작동합니다.
그렇다고 Go를 설치할 필요가 있는 것은 아닙니다. precompiled binary(컴파일된 파일들을 말함)를 가져다 쓰세요. 휴고는 현재 컴파일된 바이너리 파일들을 다음과 같은 운영체제에서 지원합니다.

* 맥OS 그리고 ARM
* 윈도우
* 리눅스
* OpenBSD
* FreeBSD

휴고는 또한 Go toolchain(Go를 실행할 수 있는 환경을 말합니다.)이 돌아갈 수 있는 곳이라면 어디서든 컴파일을 할 수 있습니다. 

### Quick Install

hugo를 설치하는 법에 대해 나와있는 페이지 입니다.

**Binary(Cross-platform)**  
https://github.com/gohugoio/hugo/releases
위 주소에서 받을 수 있는 바이너리 파일로 계속 전역적으로 쓸 수 있습니다. `/usr/local/bin` 에 까는 것이 보통입니다.  

근데 이런 것보다 패키지 관리자로 받는 것이 편하죠?

**Docker**  
도커는 Hugo에서 공식으로 지원하지 않습니다. 다만 다음 주소의 이미지를 사용하는것을 추천합니다.  
https://hub.docker.com/r/klakegg/hugo/

**Homebrew(macOS)**
```
brew install hugo
```
brew가 없다면 다음 코드로 brew를 깔아줍니다.
``` 
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```
**MacPorts(macOS)**
``` 
port istall hugo
```

**Chocolatey(Windows)**
``` 
choco install hugo -confirm
```
또는 Sass/SCSS 를 사용가능한 'extended' 버전이 필요하다면 다음과 같이
``` 
choco install hugo-extended -confirm
```

**Snap(Linux)**
sass/scss가 사용가능한 버전을 깔려면 다음과 같이
``` 
snap install hugo --channel=extended
```

일반 버전은 다음과 같이
``` 
snap install hugo 
```

**Debian & Ubuntu**
```
sudo apt-get install hugo
```
우분투 버전 18.04까지는 sass/scss 를 지원하지 않지만 19.04부터는 sass/scss를 지원한다고 합니다. 

**Fedora, Red Hat and CentOS**
```
sudo dnf install hugo
```


대충 많이 쓰는 OS 위주로 정리했습니다. 이 밖에 사용하는 OS가 있다면 홈페이지 내용을 참조하시길 바랍니다.

https://gohugo.io/getting-started/installing/


## Basic Usage 

https://gohugo.io/getting-started/usage/

잘 설치되었는지 확인하려면 다음 코드를 입력하면 됩니다.
```
hugo help
```

대충 휴고에 대한 커맨드들이 뜨면 성공입니다.

나머지는 휴고의 간단한 기본 사용에 대하여 기술하고 있는데 이는 나중에 다룰 내용들이라 읽어보실 분들만 읽어보시길 추천합니다.

## Directory Structure

https://gohugo.io/getting-started/directory-structure/

```
hugo new site
```
위 명령은 현재 위치에 다음과 같은 구조의 새로운 사이트를 만들어냅니다.
```
.
├── archetypes
├── config.toml
├── content
├── data
├── layouts
├── static
└── themes
```

이것이 바로 새로 생길 사이트인데 각각 다음과 같습니다.
### `archetypes`
우리는 새로운 컨텐츠를 `hugo new`명령을 통해 만들 수 있습니다. 기본적으로 Hugo는 새로운 컨텐츠 파일에 `date`,`title`,그리고 `draft = true`라는 내용을 넣어줍니다. 당신은 당신만의 archetypes를 만들어 컨텐츠의 front matter로 사용할 수 있습니다.

이게 무슨 말인가 하면 우리는 archetypes 폴더에 기본적인 파일인 `default.md`를 가지고 있습니다. 이 default 파일은 다음과 같이 생겼습니다.

```md
// '/archetypes/default.md'
---
title: "{{ replace .Name "-" " " | title }}"
date: {{ .Date }}
categories: []
tags: []
cover: ""
draft: true
---
```

우리가 `hugo new test.md`라는 명령을 수행하면 `/content/`폴더에 `test.md`파일이 생성됩니다. 그리고 이 생성된 파일엔 `default.md` 와 같은 내용이 들어있습니다. 즉 `archetypes` 폴더는 생성할 글의 front matter와 디폴트로 들어갈 내용을 정해주는 틀이 들어가는 폴더입니다. 

이제 한번 archetypes 폴더에 `post.md`라는 파일을 만들고 다음과 같이 써봅시다.

```md
// '/archetypes/post.md'
---
title: "{{ replace .Name "-" " " | title }}"
date: {{ .Date }}
categories: ["post"]
tags: ["포스트"]
cover: ""
draft: true
---
```

그런 다음 `hugo new post/post1.md`라는 명령을 수행하면 다음과 같이 됩니다.

1. `/content/post/` 폴더와 `/content/post/post1.md` 파일이 생성된다.
2. 이 `post1.md` 파일은 다음과 같은 내용을 담는다.
```md
// '/archetypes/post.md'
---
title: "{{ replace .Name "-" " " | title }}"
date: {{ .Date }}
categories: ["post"]
tags: ["포스트"]
cover: ""
draft: true
---
```

여기서 archetypes가 만든 '--- ~ ---' 부분을 문서의 front matter 라고 합니다. 앞으로 자주 나오는 용어이니 기억하셔야합니다.

대충 archetypes 폴더를 어떻게 사용해야할지 감이 오시나요?
정리하자면 archetypes는 생성할 글의 틀을 저장하는 공간입니다.

### `assets`
이 폴더는 기본적으로 생성되지 않고 유저가 직접 만들어줘야 합니다.(그래서 위 폴더 목록에 없습니다.) Hugo Pipe들로 가공된 파일들이 저장됩니다. `.Permalink` 또는 `RelPermalink`가 사용된 파일들만이 출판되어 public 폴더안에 생성됩니다. 이 부분은 Hugo Pipes에 대해 다루면서 자세히 알려드리겠습니다.

### `config`
config 폴더는 기본적으로 생성되지 않고 유저가 직접 만들어줘야합니다. 혹은 config 폴더를 대신할 `config.toml` 파일이 존재합니다.  

휴고는 다양한 설정값을 가지고 있습니다. `config` 폴더는 JSON,YAML 또는 TOML 형식의 설정파일들을 저장하는 공간입니다. 딱히 다양한 설정파일들이나 환경에 대한 제어가 필요없다면 root에 위치한 `config.toml`파일 하나만으로도 충분합니다. 휴고는 다양한 환경변수를 제공하여 여러분이 원하는대로 사이트를 만들어줍니다. 이부분은 다음 글 Configure Hugo에서 더 자세히 알려드리겠습니다.

### `content`
여러분이 웹사이트에서 보여줄 모든 컨텐츠들이 저장될 공간입니다. 이 폴더의 최상위에 위치할 각 폴더들은 휴고에서 하나의 'section'으로 판단합니다. 예를 들어 여러분의 사이트에 'blog','articles','tutorials'라는 메인 섹션이 있다고 한다면 'content/blog', 'content/articles', 'content/tutorials' 이렇게 세 개의 폴더가 content 폴더 안에 존재한다는 뜻입니다. 휴고는 섹션을 컨텐츠의 기본타입(content types)으로 사용합니다.

기본타입이 무엇인가 하면 만약 `content/blog/first.md` 파일이 있다고 하면 이 `first.md`파일의 타입은 `blog`가 된다는 뜻입니다. 마찬가지로 위 archetypes에서 설명했듯 `hugo new blog/second.md` 명령을 실행하면 휴고는 `second.md` 파일을 `blog` 타입으로 여겨 archetypes 폴더에서 `blog.md` 파일을 가져다 `second.md`파일을 생성합니다. 그리고 기본타입은 글이 어떤 형식으로 보일 것인가도 결정합니다.(이 형식을 정하는 방법은 나중에 나옵니다.)

### `data`
이 폴더는 여러분이 만들 웹사이트에 사용될 설정파일들이 저장되는 공간입니다. `config` 폴더와는 성격이 조금 다른게 `config` 폴더는 사이트 생성에 관해 기본적으로 저장된 설정값을 제어하는데 사용되는 반면 `data` 폴더는 hugo에 저장된 설정값이 아닌 사용자 임의의 설정값이 저장되는 공간입니다. 예를 들면 config 폴더에는 Author(저자),BaseURL(사이트 주소) 등등 Hugo에서 기본적으로 사용하는 값들이 저장되는 반면, data 폴더에는 사용자의 고양이 이름,가족 구성원 등 hugo에서 사용하지 않고 유저가 화면을 구성할 때 필요한 **hugo 기본 설정값 외의** 설정값을 만들어 저장하는 공간입니다. 말이 어려웠는데 요약하면 기본설정 외 추가적인 설정값을 저장하는 공간입니다. 

config 폴더와 마찬가지로 YAML,JSON,TOML 형식의 데이터를 저장할 수 있습니다.

### `layouts`
이 폴더는 사용자에게 보여줄 화면, 즉 html 파일들을 저장하는 공간입니다. 이 폴더에 홈페이지, taxonomy 페이지 등등이 포함됩니다. 처음엔 비어있습니다. 

### `static`
정적인 컨텐츠를 저장하는 공간입니다. 이미지,CSS,JavaScript 등등이 들어갑니다. 휴고는 사이트를 생성할 때 이 폴더의 내용을 복사해서 사용합니다.  

## Commands

대표적으로 필요한 휴고 명령어들을 모았습니다. 모든 명령어는 다음 사이트에서 확인하면 됩니다.

https://gohugo.io/commands/
### hugo
```
hugo [flags]
```
사이트를 빌드하는 명령입니다.

대표적인 옵션은 다음과 같습니다.
```
hugo -D ------ draft = true 인 파일도 빌드합니다.

hugo -E ------ expired인 파일도 빌드합니다.

hugo -F ------ 출간예정인 파일도 빌드합니다.

hugo -h ----- 휴고 도움말

hugo -t string ------ 특정 테마로 사이트를 빌드합니다.
```

### hugo config
```
hugo config 
```
휴고의 설정 파일 정보를 나열합니다.

### hugo config mounts
```
hugo config mounts
```
휴고의 기본폴더들이 어느 폴더에 매치되는지 알려줍니다.
config 파일에서 archetypes를 'archetypes'폴더가 아니라 다른 이름의 폴더로 대신할 수 있게 설정가능했죠? 이 명령어는 그래서 어느 폴더가 어느 폴더로 연결됐는지 한눈에 확인시켜줍니다.

### hugo env,hugo version
```
hugo env
```
휴고 버전과 빌드 환경을 알려줍니다(OS,ARCH,GOVERSION)

```
hugo version
```
휴고의 버전만 알려줍니다.

### hugo list
가지고 있는 컨텐츠를 나열합니다.
```
hugo list all ----- 모든 컨텐츠 나열

hugo list drafts ----- draft = true 인 뫼든 컨텐츠 나열

hugo list expired ----- expired 된 모든 컨텐츠 나열

hugo list future ------ 미래애 출판 예정인 컨텐츠 나열
``` 

### hugo new
```
hugo new [path] [flags]

ex) hugo new test.md
```

새로 컨텐츠를 생성합니다. 새로 생성된 컨텐츠는 자동으로 날짜와 타이틀을 생성합니다.(archetypes에 따라서 말이죠)

`-k` 옵션으로 만들 컨텐츠의 kind를 설정해 줄 수 있습니다. 어떤 kind가 있는지는 나중에 살펴보겠습니다.

### hugo new site
```
hugo new site [path] [flags]
```
새 사이트의 뼈대를 만들어주는 명령입니다.

`-f`옵션으로 config와 frontmatter로 어떤 포멧(JSON,TOML,YAML)을 사용할지 정해줄 수 있습니다.

예시
```
hugo new site -f json
```
기본포멧은 toml 입니다.

### hugo new theme
```
hugo new theme [name] [flags]
```
사이트를 빌드하는데 쓸 새 테마의 뼈대를 만들어줍니다. 

### hugo server
```
hugo server [flags]
```
생성한 컨텐츠를 시연해볼 임시 서버를 열어줍니다. 기본주소는 `localhost:1313`이고 이 주소로 접속해보면 빌드될 사이트의 모습을 미리볼 수 있어 개발에 용의합니다. 
```
hugo server -D 
draft = true인 파일을 포함해 서버를 엽니다. 
``` 

## 마무리

다음 글에서는 휴고의 환경변수(설정값)들이 뭐가 있고 어떻게 설정하는지 알아보겠습니다.